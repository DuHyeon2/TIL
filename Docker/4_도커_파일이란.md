![도커 기본이미지](https://github.com/user-attachments/assets/90b27680-a3da-473c-bc18-62e8f993a28f)

# Docker 파일(Dockerfile)이란
- 도커 이미지를 만들기 위한 설정 파일
- 컨테이너가 어떻게 행동해야 하는지에 대한 설정들을 정의해 주는 곳
- 나만의 도커 이미지를 만든다고 생각하면 쉬움

## 1. 컨테이너와 가상머신의 공통점과 차이점?
### 주의 : 도커 이미지가 필요한 것이 무엇인지를 생각
1. 베이스 이미지를 명시한다.(파일 스냅샷)
2. 추가적으로 필요한 파일을 다운받기 위한 몇가리 명령어를 명시한다.(파일 스냅샷)
3. 컨테이너 시작시 실행 될 명령어를 명시한다.

## 2. (FROM)베이스 이미지란
- 도커 이미지는 여러개의 레이어로 되어있는데 그중 베이스 이미지는 이 이미지의 기반이 되는 부분
- 특정 초기 이미지라 생각
    - ex) 누군가는 JDK를, 누군가는 Node기반으로 하기를 원할때 여기서 JDK, Node가 베이스이미지 
- 근본이 되는 레이어
- OS라고 생각하면 된다
- 레이어는 중간 단계의 이미지!
    ![Alt text](<img/도커 베이스 이미지.png>)
- FROM <베이스이미지>

## 3. COPY 란?
- 호스트 컴퓨터에서 컨테이너로 파일을 복사한다
    - ex) COPY <호스트 컴퓨터 경로> <컨테이너 경로>

## 4. ENTRYPOINT 란?
- 컨테이너가 실행될 때  실행하는 명령어
    - ex) ENTRYPOINT ["node", "server.js"]

## 5. RUN 이란?
- 이미지 생성 과정에서 필요한 명령어를 실행시킬 때 사용

## 6. WORKDIR 란?
- 도커파일 이미지 생성 시 기본 폴더가 되는 곳

## 3. 도커 파일로 이미지 생성하기
1. 도커파일을 생성한다
    ```
    # 베이스 이미지를 명시해준다.
    FROM alpine
    # FROM이란 명령어는 이미지를 명시해주는 명령어이다.

    # 추가적으로 필요한 파일들을 다운받는다.
    # RUN command
    # RUN이란 명령어는 도커이미지가 생성되기 전에 쉘 스크립트를 실행하는 명령어이다.

    # 컨테이너 시작시 실행될 명령어를 명시해준다.
    CMD ["echo", "hello world"]
    # CMD는 컨테이너가 시작되었을 때 실행될 실행 파일 또는 셸 스크립트를 명시해주는 명령어이다.
    ```
2. 해당 파일이 생성된 디렉토리로 이동한다.
3. docker build -f [도커파일이름] -t [나의 docker id]/[docker 이름]:[docker 버전] ./
    ![Alt text](<img/도커 이미지 생성 예시.png>)
    - -f 도커파일이름 은 Dockerfile 이 아닐때 사용
    - ./ 은 디렉토리 위치? 라 보면 된다.
